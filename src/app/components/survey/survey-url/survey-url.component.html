
<!-- **template reference variable**, formbuilder was too complex for this-->

<div *ngIf = "!isSubmitted">
    

    <form #myForm="ngForm" (ngSubmit)="onSubmit(myForm.value, myForm)" novalidate>


              <div *ngFor="let item of surveyGet" > 

                <div>{{item.surveyName}}</div>

              <br>

              <div *ngFor="let subItem of item['sections']; let i = index"> {{subItem.question}}


                  <div *ngFor="let subSubItem of subItem['answers']; let j = index">

                    <input *ngIf = "subItem.questionType == 'Multichoice'" type = "radio" id="subSubItem{{i}}{{j}}" name="{{i}}" [value] ="subSubItem" ngModel required> 
                    <label *ngIf = "subItem.questionType == 'Multichoice'">{{subSubItem.answer}}</label>
                    
                   
                    <div class = "bool" *ngFor="let bool of bools">
                      
                      <input *ngIf = "subItem.questionType == 'True/False'" type = "radio" [id]="i+bool" name="{{i}}" [value] = "bool" ngModel required> 
                      <label *ngIf = "subItem.questionType == 'True/False'">
                          {{bool}}
                      </label>
                      
                    </div>  

                    <input *ngIf = "subItem.questionType == 'Free Text'" type = "text" id="subSubItem{{i}}{{j}}" name="{{i}}" [value] ="subSubItem" ngModel required> <!-- returning F,r,e,e, t,e,x,t-->

                </div>  

                
              </div>

            </div>


        <button type="submit">Submit</button>
      </form>
    </div>


    <div *ngIf = "isSubmitted">
      <h3>THANK YOU FOR YOUR SUBMISSION</h3>
      <p>return to <a routerLink="/home">HOME</a></p>
    </div>

      <!-- <pre>{{ surveyForm.value | json }}</pre> -->
